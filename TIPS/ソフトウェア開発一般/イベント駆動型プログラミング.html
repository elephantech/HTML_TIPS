<!DOCTYPE html>

<html lang="ja">
<!-- --------------------------------------
<head>
--------------------------------------- -->
<head>
<meta content="text/html" charset="utf-8" http-equiv="Content-Type" />

<!-- 基準URI -->
<base href="file:///G:/共有ドライブ/098-all-employees/tips/HTML_TIPS/">

<!-- スタイルシート -->
<link rel="stylesheet" href="_Assets/Sytle001.css" type="text/css">

<!-- スクリプト -->
<!-- タイトル表示 -->
<script src="_Assets/MakeTitle.js" type="text/javascript"></script>
<!-- 目次表示 -->
<script src="_Assets/MakeToc.js" type="text/javascript"></script>



</head>

<!-- --------------------------------------
<body>
--------------------------------------- -->
<body>
<!-- ページタイトル(ページ内表示) -->
<span id="title"></span>

<!-- 出典・関連ページ -->
<h5>出典 :</h5>
<a href="https://ja.wikipedia.org/wiki/%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E9%A7%86%E5%8B%95%E5%9E%8B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0">イベント駆動型プログラミング - Wikipedia</a><br>
<a href="https://qiita.com/tabachain/items/bfb3573c0c6a37552579">イベント駆動プログラミング - Qiita</a><br>

<h5>関連 :</h5>
<a href="TIPS/ソフトウェア開発一般/[%E4%B8%A6%E5%88%97%E5%87%A6%E7%90%86]%E3%82%BF%E3%82%B9%E3%82%AF(%E3%82%B9%E3%83%AC%E3%83%83%E3%83%89)%E9%96%93%E9%80%9A%E4%BF%A1.html">[並列処理]タスク(スレッド)間通信</a><br>
<a href="TIPS/ソフトウェア開発一般/%E6%9C%89%E9%99%90%E7%8A%B6%E6%85%8B%E6%A9%9F%E6%A2%B0(FSM).html">有限状態機械(FSM)</a><br>

<!-- 目次 -->
<h5>目次 :</h5>
<div id="toc"></div>

<hr>

<!-- 本文ここから -->


<h2>イベント駆動型プログラミング(Event-Driven Programming)とは</h2>
プログラムの起動とともにイベント(事象)を待機し、発生したイベントに従って <b>受動的に</b> 処理を行うプログラミングパラダイムのこと。「シグナルプログラミング」とほぼ同義。<br>
ポーリング(状態問い合わせ)ループを自前で実装し、プログラム(メインルーチン)が <b>能動的に</b> 状態を確認するという方式では、状態に関連づく処理はすべてメインルーチンにぶら下がることからメインルーチンが肥大化し、プログラムの見通しが悪くなる。<br>
また、有意な処理を行っていない場合でもメインルーチンが駆動し続けるため、スループットや消費電力の面で不利となる。<br>
しかしこれをイベント駆動型とすると、発生したイベントに関連づくイベントハンドラにのみ処理を記述すればよく、コードの記述量を減らせるとともに、処理の記述はハンドラごとに分かれるため、プログラムの見通しが良くなる。<br>
特にグラフィカルユーザインタフェース(GUI)を有するプログラムにおいては、「ボタンが押される」など、イベント発生タイミングはユーザ次第であるため、イベントドリブンで実装することが効率的、かつ自然である。<br>
割り込みを用いた処理もイベントドリブンの一例である。<br>

<h2>イベント駆動型プログラミングの用語</h2>
<h3>イベント</h3>
「キーボードのキーを押した」「画面上のボタンを押した」「タイマが発火した」などの、プログラムの流れ(メインルーチン)とは別に発生する「事象」。<br>
その事象とともに、その事象を表す信号(シグナル)を指す。割り込み処理における「割り込み」に相当。<br>

<h3>イベントハンドラ</h3>
イベントが発生した際に実行するサブルーチンのこと。「イベントフック」、「イベントリスナ」も同義。<br>
割り込み処理における「割り込み(ベクタ)ハンドラ」、「割り込みサービスルーチン(ISR)」に相当。<br>
 <b>イベントハンドラをメインルーチンの一部としない(文脈に依存させない)こと</b> が重要。<br>

<h3>トリガ</h3>
イベントを発生させる契機(きっかけ)。プログラム内部でイベントを起こすことを「イベントをトリガする」と表現することもある。<br>
割り込み処理における割り込み「要因」(ウォッチドッグ、外部割り込み、低電圧etc…)に相当。<br>

<h3>イベントディスパッチャ</h3>
発生したイベントをイベントハンドラに振り分ける機能のこと。<br>
割り込み処理における「(割り込み)ベクタテーブル」に相当。<br>

<h3>イベントキュー</h3>
複数のイベントが連続して発生した際、それらを待ち行列(キュー)として保持するデータ構造。<br>
あるイベントに対応するイベントハンドラの実行中に、次のイベントが発生した場合、キュー(バッファ)にイベントをプールしておくことで、遅延実行が可能となる。<br>
「メッセージキュー」と同義。<br>

<h3>イベントループ</h3>
イベントを待機するループを持つ機構。イベントループ内にディスパッチャを持つ構造が一般的である。「メッセージループ」、「メッセージポンプ」と同義。<br>
<br>
イベントループ、イベントディスパッチャ、イベントキューはOSの機能を用いる場合と、自前で実装する場合がある。<br>
自前で実装する場合は、イベントが発生していない間はタスクを「待ち状態」としておき、イベントの発生とともにタスクを起床してディスパッチを行う、とするとCPU資源の消費が少ない。<a href="TIPS/ソフトウェア開発一般/[%E4%B8%A6%E5%88%97%E5%87%A6%E7%90%86]%E3%82%BF%E3%82%B9%E3%82%AF(%E3%82%B9%E3%83%AC%E3%83%83%E3%83%89)%E9%96%93%E9%80%9A%E4%BF%A1.html">[並列処理]タスク(スレッド)間通信</a>を参照。<br>
イベントドリブンはあくまで考え方である点に留意されたい。<br>

</body>
</html>
