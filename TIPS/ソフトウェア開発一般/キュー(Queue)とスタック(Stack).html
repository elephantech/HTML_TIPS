<!DOCTYPE html>

<html lang="ja">
<!-- --------------------------------------
head
--------------------------------------- -->
<head>
<meta content="text/html" charset="utf-8" http-equiv="Content-Type" />

<!-- 基準URI -->
<base href="https://elephantech-html-tips-etc.on.drv.tw/HTML_TIPS/">

<!-- スタイルシート -->
<link rel="stylesheet" href="_Assets/CSS/Sytle001.css" type="text/css">

<!-- スクリプト -->
<!-- タイトル表示 -->
<script src="_Assets/MakeTitle.js" type="text/javascript"></script>
<!-- 目次表示 -->
<script src="_Assets/MakeToc_L.js" type="text/javascript"></script>



</head>

<!-- --------------------------------------
body
--------------------------------------- -->
<body>
<!-- ページタイトル(ページ内表示) -->
<span id="title"></span>

<!-- 出典・関連ページ -->
<h5>出典 :</h5>
<a href="https://ja.wikipedia.org/wiki/%E3%82%AD%E3%83%A5%E3%83%BC_(%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF)">キュー (コンピュータ) - Wikipedia</a><br>
<a href="https://ja.wikipedia.org/wiki/%E5%84%AA%E5%85%88%E5%BA%A6%E4%BB%98%E3%81%8D%E3%82%AD%E3%83%A5%E3%83%BC">優先度付きキュー - Wikipedia</a><br>
<a href="https://ja.wikipedia.org/wiki/%E3%82%B9%E3%82%BF%E3%83%83%E3%82%AF">スタック - Wikipedia</a><br>

<h5>関連 :</h5>
<a href="TIPS/C%E3%83%BBC++/[C++%EF%BC%8FSTL%EF%BC%8F%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A]%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A.html">[C++／STL／コンテナ]コンテナ</a><br>
<a href="TIPS/C%20Sharp/コレクション.html">コレクション</a><br>

<!-- 目次 -->
<h5>目次 :</h5>
<div id="toc"></div>

<hr>

<!-- 本文ここから -->


<h2>キュー、スタックの概要</h2>
集合を扱う基本的なデータ構造で、データを <b>先入れ先出し(First In First Out)</b> または <b>後入れ先出し(Last In First Out)</b> のリスト構造で保持するもの。<br>
C++(STL)などのモダンなプログラミング言語では、キュー・スタック構造を用いるためのデータ型が用意されている場合が多い。<br>
<img src="_Img/Software Development/Queue_Stack/development-queue-and-stack_01.png" alt="画像"><br>

<h2>キュー(Queue / FIFO / 待ち行列)</h2>
データを <b>入力された順番通りに(旧いものから順に)</b> 処理する必要がある場合に用いる。<br>
イベント駆動型のプログラムにおいては、イベント(メッセージ)を受け取る側は(特殊な場合を除き)メッセージを受けた順に処理することとなるため、処理待ちのメッセージをプールしておく場として「メッセージキュー」を用いるのが通例である。<br>
(メッセージ発行時点で別のメッセージが処理中であっても、キューにメッセージを入れておけば、順番が巡れば処理される。)<br>

<h3>優先度付きキュー</h3>
エンキューする要素に優先度を付与し、(追加順ではなく)優先度に基づいてキュー内でソートする。結果として <b>最も優先度の高いものからデキューされる</b> 。<br>
<h3>リングバッファ</h3>
固定長領域を用いたキューの実装。データ領域(固定長配列)、書き込み位置、読み出し位置で構成される。<br>
領域の末尾と先頭を疑似的に結合し、書き込み・読み出し位置が領域の末尾に達したら先頭まで巻き戻す。<br>
構造が簡単で、バッファ(キュー)領域を動的に拡大・縮小することなく継続的に領域を再利用できるため、メモリに限りがあり、かつ長期間継続的にデータが追加されるような用途に適している。<br>
(ドライブレコーダの映像保存⇒外部記憶に書き出し、など。)<br>
<img src="_Img/Software Development/Queue_Stack/development-queue-and-stack_02.png" alt="画像"><br>

<h2>スタック(Stack / LIFO)</h2>
データを <b>入力された順番と逆順で(新しいものから順に)</b> 処理する必要がある場合に用いる。<br>
<h3>コールスタック</h3>
プログラムでサブルーチン(割り込み含む)が呼ばれた場合、最後に呼ばれたもの(最も内側)から順に戻ることになる。<br>
このためコンピュータ上では、戻り先のアドレス(およびローカル変数と引数)をスタック形式(コールスタック)で保持している。コールスタックの上端(次の戻り先)を指すレジスタをスタックポインタと呼ぶ。<br>
プログラムの実行に当たっては、メモリ(主記憶)は(ヒープとして確保する以外は)コールスタック(およびグローバル変数)に用いられることから、<br>
ヒープ領域を除いたメモリをスタック領域と呼ぶ。特にメモリに限りがある組み込み用途では、スタックの使用量を見積もることが重要である。<br>
転じて、「呼び出し階層」の意味でも用いられる。(「コールスタックが深い」など)<br>
</body>
</html>
